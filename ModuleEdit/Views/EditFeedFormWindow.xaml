<Window
  x:Class="ModuleEdit.Views.EditFeedFormWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:ModuleEdit.Views"
  xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:models="clr-namespace:Infrastructure.Models;assembly=Infrastructure"
  xmlns:prism="http://prismlibrary.com/"
  d:DesignHeight="300"
  d:DesignWidth="300"
  prism:ViewModelLocator.AutoWireViewModel="True"
  ResizeMode="NoResize"
  WindowStartupLocation="CenterScreen"
  WindowStyle="None"
  mc:Ignorable="d">

  <DockPanel>
    <ItemsControl Grid.IsSharedSizeScope="True" ItemsSource="{Binding AllSources}">
      <ItemsControl.ItemTemplate>
        <DataTemplate DataType="{x:Type models:Source}">
          <Border
            x:Name="Border"
            Padding="8"
            BorderBrush="{DynamicResource MaterialDesignDivider}"
            BorderThickness="0,0,0,1">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Checkerz" />
                <ColumnDefinition />
              </Grid.ColumnDefinitions>
              <ToggleButton
                VerticalAlignment="Center"
                IsChecked="{Binding IsSelected}"
                Style="{StaticResource MaterialDesignActionLightToggleButton}">
                <materialDesign:PackIcon
                  Width="21"
                  Height="21"
                  Kind="Heart" />
              </ToggleButton>
              <StackPanel Grid.Column="1" Margin="8,0,0,0">
                <TextBlock FontWeight="Bold" Text="{Binding Name}" />
                <TextBlock Text="{Binding FeedUri}" />
              </StackPanel>
            </Grid>
          </Border>
          <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsSelected}" Value="True">
              <Setter TargetName="Border" Property="Background" Value="{DynamicResource MaterialDesignSelection}" />
            </DataTrigger>
          </DataTemplate.Triggers>
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>

    <Button
      Margin="20,0,20,10"
      Click="CloseWindow"
      Content="Close"
      DockPanel.Dock="Bottom"
      Style="{StaticResource MaterialDesignRaisedDarkButton}"
      ToolTip="Close without adding a new Source" />
  </DockPanel>
</Window>
